<!DOCTYPE html>
<html>
    <head></head>
    <body>
        <h1>this is a assignment5</h1> 
        <h3>Higher Order functions</h3>
        <h3>Promises, Async Await</h3>
        <h3>Fetch Api</h3>
    
    </body>

    <script>
        console.log("Higher Order Functions");

// MAP

let arr = [1,2,3,4,5,6];



arr.forEach((el)=>{
    console.log(el**2)
})

let square = arr.map((el)=>el**2);

let square = arr.map(function(el){
    return el**2;
})

console.log(square);


Filter

let even = arr.filter(el=>el%2==0);

let evenSquares = arr.filter(el=>el%2==0).map(el=>el**2);

console.log(even);
console.log(evenSquares);

let users = [{"user": "ðŸ‘©ðŸ»â€ðŸ’»"},{"user": "ðŸ‘¨ðŸ¾â€ðŸ’»"},{"user": "ðŸ’ƒ"},{"user": "ðŸ‘¨ðŸ»â€ðŸŽ“"},{"user": "ðŸ§‘ðŸ»â€ðŸ«"},{"user": "ðŸ¦¸â€â™‚ï¸"},{"user": "ðŸ§Ÿâ€â™‚ï¸"}];

let resultDetails = users.map(user=>{
    let mark = Math.random()*100;
    user.mark = mark;
    return user;
})

console.log(resultDetails);

let pass = resultDetails.filter(user=>{
    if(user.mark>35){
        return user;
    }
})

console.log(pass);

// Reduce
let names = ['berlin', 'denver','rio'];
let red = names.reduce((acc, val)=>{
    let obj = {
        name:val,
        len:val.length,
    }
    acc.push(obj);
    return acc;
},[]);

console.log(red);

let sum = arr.reduce((acc,val)=>{
    acc+=val;
    return acc;
},0)

console.log(sum);

    </script>
    <script>
        console.log('Fetch API');

// https://jsonplaceholder.typicode.com/comments

// Making a get request
fetch('https://jsonplaceholder.typicode.com/posts')
.then(response=>response.json())
.then(data=>console.log(data))

let obj = {
    userId:254,
    title:"Some Title",
    body:'lorem ipsum',
}

// Make a post Request
fetch('https://jsonplaceholder.typicode.com/posts',{
    method:'POST',
    body: JSON.stringify(obj)
}).then(response=>response.json())
.then(data=>console.log(data))


// jokes api

async function fetchJokes(){
    const response = await fetch('https://api.chucknorris.io/jokes/random');
    const data = await response.json();

    console.log(data);
}

fetchJokes();


let obj1 = {
    name:'Prasad',
    age:24,
    canDrive:true,
}

console.log(obj1);
let str = JSON.stringify(obj1);
console.log(str)

let strobj = JSON.parse(str);
console.log(strobj)
    </script>
</html>